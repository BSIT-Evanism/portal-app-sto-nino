---
import { ResetPasswordComp } from "@/components/ResetPassword";
import Layout from "@/layouts/Layout.astro";

const token = Astro.url.searchParams.get("token");
---

<Layout title="Reset Password">
    {
        token ? (
            <ResetPasswordComp client:only="react" token={token} />
        ) : (
            <div class="min-h-screen bg-gradient-to-b from-gray-100 to-gray-700 py-12">
                <div class="max-w-md mx-auto bg-white rounded shadow-lg flex flex-col overflow-hidden border border-gray-300 p-8">
                    <img
                        src="/brgy-logo.png"
                        alt="Logo"
                        class="w-28 h-28 mx-auto mb-4"
                    />
                    <h1 class="text-3xl font-bold text-center mb-4">
                        Invalid Reset Link
                    </h1>
                    <p class="text-gray-600 text-center mb-6">
                        This password reset link is invalid or has expired.
                        Please request a new password reset link.
                    </p>
                    <a
                        href="/"
                        class="w-full py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors text-center"
                    >
                        Return Home
                    </a>
                    <div class="h-3 bg-green-600 w-full mt-8" />
                </div>
            </div>
        )
    }
</Layout>
